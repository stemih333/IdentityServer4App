@model UserDetailsViewModel

@{
    ViewData["Title"] = "Details " + Model.UserName;
}

@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-dismissable alert-success">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <span>@TempData["SuccessMessage"]</span>
    </div>
}

<div class="panel width-600 panel-default">
    <div class="panel-heading">
        <h4>User details</h4>
    </div>
    <div class="panel-body">
        <div class="form-group form-group-sm">
            <label asp-for="@Model.UserName"></label>
            <p>@Model.UserName</p>
        </div>
        <div class="form-group form-group-sm">
            <label asp-for="@Model.FirstName"></label>
            <p>@Model.FirstName</p>
        </div>
        <div class="form-group form-group-sm">
            <label asp-for="@Model.LastName"></label>
            <p>@Model.LastName</p>
        </div>
        <div class="form-group form-group-sm">
            <label asp-for="@Model.Email"></label>
            <p>@Model.Email</p>
        </div>
        <div class="form-group form-group-sm">
            <label>Permissions</label>
            <ul>
                @if (Model.Permissions != null && Model.Permissions.Any())
                {
                    foreach (var permission in Model.Permissions)
                    {
                        <li>@permission</li>
                    }
                }
                else
                {
                    <li>No permissions assigned</li>
                }
            </ul>
        </div>
        
    </div>
    <div class="panel-footer">
        <a class="btn btn-sm btn-danger" asp-action="Delete" asp-route-userId="@Model.Id" asp-route-username="@Model.UserName">Delete user</a>
        <a class="btn btn-sm btn-primary" asp-action="Edit" asp-route-userId="@Model.Id">Edit details</a>
        <a class="btn btn-sm btn-primary" asp-action="Password" asp-route-userId="@Model.Id">Change password</a>
        <a class="btn btn-sm btn-default" asp-action="Index">Back</a>
    </div>
</div>
